{"version":3,"sources":["main.js"],"names":["localStorageSites","localStorage","getItem","defaultSites","sites","JSON","parse","formatSiteName","url","replace","formatUrl","siteName","window","onbeforeunload","string","stringify","setItem","$","focus","click","prompt","site","letter","name","push","showSites","document","on","e","key","i","length","toLowerCase","open","remove","forEach","item","index","$li","imageURL","insertBefore","find","val","splice","stopPropagation"],"mappings":"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","file":"main.d52d7146.js","sourceRoot":"..\\src","sourcesContent":["import imageURL from './lamb-close.png';\r\n\r\nlet localStorageSites = localStorage.getItem('sites');\r\n\r\nconst defaultSites = [{\r\n    'letter': 'a',\r\n    'name': 'acfun.cn',\r\n    'url': 'https://www.acfun.cn/'\r\n}, {\r\n    'letter': 'b',\r\n    'name': 'bilibili.com',\r\n    'url': 'https://www.bilibili.com/'\r\n}, {\r\n    'letter': 'g',\r\n    'name': 'github.com',\r\n    'url': 'https://github.com/'\r\n}];\r\n\r\nlet sites = JSON.parse(localStorageSites) || defaultSites;\r\n\r\n\r\nconst formatSiteName = (url) => {\r\n    return url.replace('http://', '').replace('https://', '').replace('//', '').replace('www.', '').replace(/\\/.*/, '');\r\n}\r\n\r\nconst formatUrl = (siteName) => {\r\n    return '//' + siteName;\r\n}\r\n\r\nwindow.onbeforeunload = function() {\r\n    var string = JSON.stringify(sites);\r\n    localStorage.setItem('sites', string);\r\n};\r\n\r\n$(function() {\r\n    $(\".searchForm>input\").focus();\r\n\r\n    $(\".addSite\").click(function() {\r\n        const url = window.prompt('请输入要添加的网址');\r\n        let site = { 'name': formatSiteName(url) };\r\n        site.letter = site.name[0];\r\n        site.url = formatUrl(site.name);\r\n        sites.push(site);\r\n        showSites();\r\n    });\r\n\r\n\r\n    $(document).on('keypress', function(e) {\r\n        var key = e.key;\r\n\r\n        for (var i = 0; i < sites.length; i++) {\r\n            if (sites[i].letter.toLowerCase() === key) {\r\n                window.open(sites[i].url);\r\n            }\r\n        }\r\n    });\r\n\r\n    showSites();\r\n\r\n    function showSites() {\r\n        $(\".nav-main>ul>li:not(.addSite)\").remove();\r\n\r\n        sites.forEach((item, index) => {\r\n            let $li = $(`<li>\r\n                    <div class=\"logo\">${item.letter}</div>\r\n                    <div class=\"link\">${item.name}</div>\r\n                    <input type=\"hidden\" value=\"${item.url}\">\r\n                    <img src=\"${imageURL}\">\r\n                </li>`).insertBefore($(\".addSite\"));\r\n            $li.click(function() {\r\n                window.open($(this).find(\":hidden\").val());\r\n            });\r\n\r\n            $li.find('img').click(function(e) {\r\n                sites.splice(index, 1);\r\n                e.stopPropagation();\r\n                showSites();\r\n            });\r\n        })\r\n\r\n    }\r\n})"]}